{% extends "base_results.html" %}

{% block content %}
{% load filters %}
<script type="text/javascript">

var s = "";
{% for filt in filters %}
   	s += "({{filt}})";
{% endfor %}

function popDescription(sel)
{	
	window.open("/pants4thunderthighs/super_compare/"+sel.name, "Compare Pants", "status=0, height=1500, width=1000");
}

function addFilter(sel)
{
	if (!(s.match("("+sel.name+", "+sel.value+")")))
		{s += "("+sel.name+", "+sel.value+")"};
	var newFilter = document.createElement("INPUT");
	newFilter.name = "filter";
	newFilter.type = "hidden";
	newFilter.value = s;
	makeFilter(s);
}

function dropFilter(des)
{
	s = s.replace(des.name,"");
	makeFilter(s);
}

function makeFilter(str)
{
	var newFilter = document.createElement("INPUT");
	newFilter.name = "filter";
	newFilter.type = "hidden";
	newFilter.value = str;
	makeForm(newFilter);
}

function makeForm(child)
{
	var newForm = document.createElement("FORM");
	newForm.action="/pants4thunderthighs/results/";
	newForm.method="post";
	
	var csrfToken = document.createElement("INPUT");
	csrfToken.name = "csrfmiddlewaretoken";
	csrfToken.type = "hidden";
	csrfToken.value = "{{token}}";
	
	newForm.appendChild(csrfToken);
	newForm.appendChild(child);
	newForm.submit();
}

function fitThis(item)
{
	var fitItem = document.createElement("INPUT");
	fitItem.name = "fitRoom";
	fitItem.type = "hidden";
	fitItem.value = item;
	makeForm(fitItem);
}
</script>

<p>
{% for filt in filters %}
<input type="button" class="dropFilterLink" onclick="dropFilter(this)" name="({{filt}})" value="{{filt|disp_filter}}">&nbsp;&nbsp;
{% endfor %}
</p>

{% for item,values in pants.items %}
<<<<<<< HEAD
   <div id="maybe">
   <div id="item" class="tile">
	    <div id="imagecontainer">
		<input id="resultimage" type="image" onclick="popDescription(this)" name="{{item.id}}" src="{{item.picURL}}" >
		</div><!--closes #itemimage-->
		<span id="plussigncontainer">
		<input type="button" class="fittingRoom" onClick="fitThis({{item.id}})" name="add{{item.id}}" value="+" id="fittingroombutton">
		</span> <!--closes plussigncontainer-->
		<div id="pantlabel">
		<ul>
		<li class="make">{{item.designer}}</li> </br> 
		<li class="model">{{item.style}} </li></br>
		<li>{{item.designer_waist}} x {{item.designer_inseam}}</li>
		</ul>
		</div><!--closes #pantlabel-->   
		
		<div id="desc">
		<input class="browse" type="button" class="addFilterLink" onClick="addFilter(this)" name="waist" value="{{values.waist}}"> </br>
		<input class="browse" type="button" class="addFilterLink" onClick="addFilter(this)" name="front_rise" value="{{values.front_rise}}"> </br>
		<input class="browse"  type="button" class="addFilterLink" onClick="addFilter(this)" name="cuff" value="{{values.cuff}}"> </br>
	   </div><!--ends desc div-->
   </div><!--ends item div-->
   </div><!--ends #maybe-->
=======
<div id="item" class="tile">
	<div id="imagecontainer" onmouseover="$('.pantlabel#{{item.id}}').show();" onmouseout="$('.pantlabel').hide();">
		<input type="image" 
			   id="resultimage" 
			   onclick="popDescription(this)" 
			   name="{{item.id}}" 
			   src="{{item.picURL}}">
		<div class="pantlabel" id="{{item.id}}" style="display:none">
			<ul align="left">
				<li class="make">{{item.designer}}</li></br> 
				<li class="model">{{item.style}} </li></br>
				<li>{{item.designer_waist}} x {{item.designer_inseam}}</li>
			</ul>
		</div><!--closes #pantlabel-->
		<input type="button" 
			   class="fittingRoom" 
			   onClick="fitThis({{item.id}})" 
			   name="add{{item.id}}" 
			   value="+" 
			   id="fittingroombutton">
	</div><!--closes #imagecontainer-->
	
	<div class="desc">
		<input type="button" class="addFilterLink" onClick="addFilter(this)" name="waist" value="{{values.waist}}"></br>
		<input type="button" class="addFilterLink" onClick="addFilter(this)" name="front_rise" value="{{values.front_rise}}"></br>
		<input type="button" class="addFilterLink" onClick="addFilter(this)" name="cuff" value="{{values.cuff}}"></br>
	</div><!--ends desc div-->
</div><!--ends item div-->
>>>>>>> 434f283c2439eef1919be968a90a5ff8a550956c
{% endfor %}

{% endblock content%}